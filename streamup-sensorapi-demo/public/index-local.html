<!DOCTYPE html>
<html>
  <head>
    <title>SensorAPI.js & STreamUp Demo</title>
	<script src="js/jquery-2.1.1.js"></script>
	<script src="js/SensorAPI.js"></script>
  </head>
  <body>
    <header>
      <h1>SensorAPI.js & Streamup Demo</h1>
    </header>

    <div>
        <ul id="device-list">          
        </ul>
    </div>

  </body>
  <script>				
		var api = new SensorAPI();
		api.loadDriver("js/driver/browserDeviceMotion.js");

		api.onDeviceAdded(function(device) {					
			var elementDevice = $('#device-' + device.ID);					
			if (elementDevice.length <= 0) {
				$('#device-list').append('<li> <a> <strong>' + device.name + '</strong><div><ul id="device-' + device.ID + '"></div> </a> </li>');
				elementDevice = $('#device-' + device.ID);			
			}
			device.sensors.forEach(function(sensor) {
				elementDevice.append('<li> <a href="local/sensor?deviceId=' + device.ID + '&sensorId=' + sensor.ID + '"> ' + sensor.name + ' </a> </li>');
			})
		});
    </script>
</html>